<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
	<link rel="stylesheet" type="text/css" href="css/folding-cube.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>

<header>
	<h1 id="title"><b>Carto</b> Elements</h1>
	<a class="header-link" href="https://github.com/HaydenElza/cartoelements#contribute">Contribute</a>
	<a class="header-link" href="https://github.com/HaydenElza/cartoelements">About</a>
</header>
<main>
	<div class="sk-folding-cube">
		<div class="sk-cube1 sk-cube"></div>
		<div class="sk-cube2 sk-cube"></div>
		<div class="sk-cube4 sk-cube"></div>
		<div class="sk-cube3 sk-cube"></div>
	</div>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js" integrity="sha512-EbdJQSugx0nVWrtyK3JdQQ/03mS3Q1UiAhRtErbwl1YL/+e2hZdlIcSURxxh7WXHTzn83sjlh2rysACoJGfb6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
	function init() {
		Papa.parse('https://docs.google.com/spreadsheets/d/1gFZpEDpR2CyCD094Lc8yi63nxFwddJ8ygeKkWD8CTL8/pub?output=csv', {
		download: true,
		header: true,
		complete: fillElements,
	})}
	window.addEventListener('DOMContentLoaded', init)

	function showInfo(results) {
		console.log(results.data);
	}

	function fillElements(results) {
		// showInfo(results)
		var data = results.data
		var htmlString = "";
		for (var i=0,  dataLen=data.length; i < dataLen; i++) {
			if (data[i]['Category']=='northarrow') {
				var htmlString = htmlString.concat('\
					<div class="element north-arrow">\
						<h2 class="element-name">',data[i]['Name'],'</h2>\
						<img class="element-normal" style="height: ',data[i]['Height']*10,'rem" src="http://elza.me/cartoelements/north_arrows/',data[i]['Id'],'/',data[i]['Id'],'_2x.svg"/>\
						<img class="element-small" style="height: ',data[i]['Height']*5,'rem" src="http://elza.me/cartoelements/north_arrows/',data[i]['Id'],'/',data[i]['Id'],'_1x.svg"/>\
						<ul class="element-links">\
							<li><a target="_blank" href="http://elza.me/cartoelements/north_arrows/',data[i]['Id'],'/',data[i]['Id'],'_2x.svg" download>2xSVG</a></li>\
							<li><a target="_blank" href="http://elza.me/cartoelements/north_arrows/',data[i]['Id'],'/',data[i]['Id'],'_1x.svg" download>1xSVG</a></li>\
							<li><a target="_blank" href="http://elza.me/cartoelements/north_arrows/',data[i]['Id'],'/',data[i]['Id'],'_2x.emf" download>2xEMF</a></li>\
							<li><a target="_blank" href="http://elza.me/cartoelements/north_arrows/',data[i]['Id'],'/',data[i]['Id'],'_1x.emf" download>1xEMF</a></li>\
							<li><a target="_blank" href="https://github.com/HaydenElza/cartoelements/tree/gh-pages/north_arrows/',data[i]['Id'],'/">SOURCE</a></li>\
						</ul>\
					</div>\
				');
			} else {
				var htmlString = htmlString.concat('\
					<div class="element scale-bar">\
						<h2 class="element-name">',data[i]['Name'],'</h2>\
						<img class="element-small" style="height: ',data[i]['Height']*5,'rem" src="http://elza.me/cartoelements/scale_bars/',data[i]['Id'],'/',data[i]['Id'],'_1x.svg"/>\
						<img class="element-normal" style="height: ',data[i]['Height']*10,'rem" src="http://elza.me/cartoelements/scale_bars/',data[i]['Id'],'/',data[i]['Id'],'_2x.svg"/>\
						<ul class="element-links">\
							<li><a target="_blank" href="http://elza.me/cartoelements/scale_bars/',data[i]['Id'],'/',data[i]['Id'],'_2x.svg" download>2xSVG</a></li>\
							<li><a target="_blank" href="http://elza.me/cartoelements/scale_bars/',data[i]['Id'],'/',data[i]['Id'],'_1x.svg" download>1xSVG</a></li>\
							<li><a target="_blank" href="http://elza.me/cartoelements/scale_bars/',data[i]['Id'],'/',data[i]['Id'],'_2x.emf" download>2xEMF</a></li>\
							<li><a target="_blank" href="http://elza.me/cartoelements/scale_bars/',data[i]['Id'],'/',data[i]['Id'],'_1x.emf" download>1xEMF</a></li>\
							<li><a target="_blank" href="https://github.com/HaydenElza/cartoelements/tree/gh-pages/scale_bars/',data[i]['Id'],'/">SOURCE</a></li>\
						</ul>\
					</div>\
				');
			}
		};
		$('.sk-folding-cube').css('display', 'none')
		$('main').html(htmlString);
	}
</script>
</body>
</html>